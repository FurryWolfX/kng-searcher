{"version":3,"file":"CodeEditor-8a34141f.js","sources":["../../src/components/shared/CodeEditor.vue"],"sourcesContent":["<template>\r\n  <div class=\"border-2 code-editor\">\r\n    <div ref=\"editor\" class=\"full-width full-height\" />\r\n\r\n    <div class=\"code-editor__actions\">\r\n      <div class=\"inline-block\">\r\n        <copy-button round flat dense :custom-handler=\"copyContent\" />\r\n      </div>\r\n\r\n      <div class=\"inline-block\">\r\n        <q-btn icon=\"settings\" round flat dense>\r\n          <q-menu style=\"white-space: nowrap\" dense anchor=\"bottom right\" self=\"top end\">\r\n            <q-item>\r\n              <q-btn :disable=\"!validJson\"\r\n                     :title=\"t('shared.code_editor.actions.beautify.title')\"\r\n                     color=\"dark-grey\"\r\n                     class=\"full-width\"\r\n                     @click=\"beautifyEditorValue\">\r\n                <q-icon dense name=\"auto_fix_normal\" />\r\n                {{ t('shared.code_editor.actions.beautify.text') }}\r\n              </q-btn>\r\n            </q-item>\r\n\r\n            <q-separator />\r\n\r\n            <q-item dense class=\"q-pt-sm\">\r\n              <q-checkbox v-model=\"codeEditorStore.useSpaces\" size=\"32px\"\r\n                          dense\r\n                          :label=\"t('shared.code_editor.actions.whitespace.label')\"\r\n                          :title=\"t('shared.code_editor.actions.whitespace.title')\" />\r\n            </q-item>\r\n            <q-item dense class=\"q-pb-sm\">\r\n              <q-checkbox v-model=\"codeEditorStore.wrapLines\" size=\"32px\"\r\n                          dense\r\n                          :label=\"t('shared.code_editor.actions.wrap_lines.label')\"\r\n                          :title=\"t('shared.code_editor.actions.wrap_lines.title')\" />\r\n            </q-item>\r\n\r\n            <q-separator />\r\n\r\n            <q-item>\r\n              <a href=\"https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts\"\r\n                 rel=\"nofollow\"\r\n                 target=\"_blank\">\r\n                {{ t('shared.code_editor.actions.keyboard_shortcuts.text') }}\r\n              </a>\r\n            </q-item>\r\n          </q-menu>\r\n        </q-btn>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n  import { computed, Ref, ref, toRef } from 'vue'\r\n  import { useCodeEditor } from '../../composables/CodeEditor'\r\n  import { useCodeEditorStore } from '../../store/codeEditor.ts'\r\n  import CopyButton from './CopyButton.vue'\r\n  import { useTranslation } from '../../composables/i18n'\r\n\r\n  const props = defineProps<{ modelValue: string, commands?: AceAjax.EditorCommand[] }>()\r\n  const emit = defineEmits(['update:modelValue'])\r\n  const t = useTranslation()\r\n  const codeEditorStore = useCodeEditorStore()\r\n\r\n  const editor: Ref<HTMLElement | null> = ref(null)\r\n  const { copyContent, beautifyEditorValue } = useCodeEditor(editor, {\r\n    readOnly: false,\r\n    initialValue: toRef(props, 'modelValue'),\r\n    commands: props.commands,\r\n    emit\r\n  })\r\n\r\n  const validJson = computed(() => {\r\n    if (props.modelValue === '') return true\r\n    try {\r\n      JSON.parse(props.modelValue)\r\n      return true\r\n    } catch (error) {\r\n      return false\r\n    }\r\n  })\r\n</script>\r\n"],"names":["t","useTranslation","codeEditorStore","useCodeEditorStore","editor","ref","copyContent","beautifyEditorValue","useCodeEditor","toRef","props","emit","validJson","computed"],"mappings":"6iBA+DQA,EAAIC,IACJC,EAAkBC,IAElBC,EAAkCC,EAAI,IAAI,EAC1C,CAAE,YAAAC,EAAa,oBAAAC,GAAwBC,EAAcJ,EAAQ,CACjE,SAAU,GACV,aAAcK,EAAMC,EAAO,YAAY,EACvC,SAAUA,EAAM,SAChB,KAAAC,CAAA,CACD,EAEKC,EAAYC,EAAS,IAAM,CAC/B,GAAIH,EAAM,aAAe,GAAW,MAAA,GAChC,GAAA,CACG,YAAA,MAAMA,EAAM,UAAU,EACpB,QACO,CACP,MAAA,EACT,CAAA,CACD"}