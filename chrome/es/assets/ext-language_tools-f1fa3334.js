import{n as Q}from"./index-a0976c3f.js";function q(V,K){for(var v=0;v<K.length;v++){const C=K[v];if(typeof C!="string"&&!Array.isArray(C)){for(const I in C)if(I!=="default"&&!(I in V)){const $=Object.getOwnPropertyDescriptor(C,I);$&&Object.defineProperty(V,I,$.get?$:{enumerable:!0,get:()=>C[I]})}}}return Object.freeze(Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}))}var Y={exports:{}};(function(V,K){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(v,C,I){var $=v("./lib/dom"),E=v("./lib/oop"),L=v("./lib/event_emitter").EventEmitter,S=v("./lib/lang"),T=v("./range").Range,x=v("./range_list").RangeList,M=v("./keyboard/hash_handler").HashHandler,O=v("./tokenizer").Tokenizer,k=v("./clipboard"),P={CURRENT_WORD:function(o){return o.session.getTextRange(o.session.getWordRange())},SELECTION:function(o,i,e){var s=o.session.getTextRange();return e?s.replace(/\n\r?([ \t]*\S)/g,`
`+e+"$1"):s},CURRENT_LINE:function(o){return o.session.getLine(o.getCursorPosition().row)},PREV_LINE:function(o){return o.session.getLine(o.getCursorPosition().row-1)},LINE_INDEX:function(o){return o.getCursorPosition().row},LINE_NUMBER:function(o){return o.getCursorPosition().row+1},SOFT_TABS:function(o){return o.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(o){return o.session.getTabSize()},CLIPBOARD:function(o){return k.getText&&k.getText()},FILENAME:function(o){return/[^/\\]*$/.exec(this.FILEPATH(o))[0]},FILENAME_BASE:function(o){return/[^/\\]*$/.exec(this.FILEPATH(o))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(o){return this.FILEPATH(o).replace(/[^/\\]*$/,"")},FILEPATH:function(o){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(o){var i=o.session.$mode||{};return i.blockComment&&i.blockComment.start||""},BLOCK_COMMENT_END:function(o){var i=o.session.$mode||{};return i.blockComment&&i.blockComment.end||""},LINE_COMMENT:function(o){var i=o.session.$mode||{};return i.lineCommentStart||""},CURRENT_YEAR:y.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:y.bind(null,{year:"2-digit"}),CURRENT_MONTH:y.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:y.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:y.bind(null,{month:"short"}),CURRENT_DATE:y.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:y.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:y.bind(null,{weekday:"short"}),CURRENT_HOUR:y.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:y.bind(null,{minute:"2-digit"}),CURRENT_SECOND:y.bind(null,{second:"2-digit"})};P.SELECTED_TEXT=P.SELECTION;function y(o){var i=new Date().toLocaleString("en-us",o);return i.length==1?"0"+i:i}var A=function(){function o(){this.snippetMap={},this.snippetNameMap={},this.variables=P}return o.prototype.getTokenizer=function(){return o.$tokenizer||this.createTokenizer()},o.prototype.createTokenizer=function(){function i(t){return t=t.substr(1),/^\d+$/.test(t)?[{tabstopId:parseInt(t,10)}]:[{text:t}]}function e(t){return"(?:[^\\\\"+t+"]|\\\\.)"}var s={regex:"/("+e("/")+"+)/",onMatch:function(t,r,l){var a=l[0];return a.fmtString=!0,a.guard=t.slice(1,-1),a.flag="",""},next:"formatString"};return o.$tokenizer=new O({start:[{regex:/\\./,onMatch:function(t,r,l){var a=t[1];return(a=="}"&&l.length||"`$\\".indexOf(a)!=-1)&&(t=a),[t]}},{regex:/}/,onMatch:function(t,r,l){return[l.length?l.shift():t]}},{regex:/\$(?:\d+|\w+)/,onMatch:i},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,r,l){var a=i(t.substr(1));return l.unshift(a[0]),a},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+e("\\|")+"*\\|",onMatch:function(t,r,l){var a=t.slice(1,-1).replace(/\\[,|\\]|,/g,function(h){return h.length==2?h[1]:"\0"}).split("\0").map(function(h){return{value:h}});return l[0].choices=a,[a[0]]},next:"start"},s,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(t,r,l){return l.length&&l[0].expectElse?(l[0].expectElse=!1,l[0].ifEnd={elseEnd:l[0]},[l[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(t,r,l){var a=t[1];return a=="}"&&l.length||"`$\\".indexOf(a)!=-1?t=a:a=="n"?t=`
`:a=="t"?t="	":"ulULE".indexOf(a)!=-1&&(t={changeCase:a,local:a>"a"}),[t]}},{regex:"/\\w*}",onMatch:function(t,r,l){var a=l.shift();return a&&(a.flag=t.slice(1,-1)),this.next=a&&a.tabstopId?"start":"",[a||t]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(t,r,l){return[{text:t.slice(1)}]}},{regex:/\${\w+/,onMatch:function(t,r,l){var a={text:t.slice(2)};return l.unshift(a),[a]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(t,r,l){var a=l.shift();return this.next=a&&a.tabstopId?"start":"",[a||t]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(t,r,l){var a=l[0];return a.formatFunction=t.slice(2,-1),[l.shift()]},next:"formatString"},s,{regex:/:[\?\-+]?/,onMatch:function(t,r,l){t[1]=="+"&&(l[0].ifEnd=l[0]),t[1]=="?"&&(l[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),o.$tokenizer},o.prototype.tokenizeTmSnippet=function(i,e){return this.getTokenizer().getLineTokens(i,e).tokens.map(function(s){return s.value||s})},o.prototype.getVariableValue=function(i,e,s){if(/^\d+$/.test(e))return(this.variables.__||{})[e]||"";if(/^[A-Z]\d+$/.test(e))return(this.variables[e[0]+"__"]||{})[e.substr(1)]||"";if(e=e.replace(/^TM_/,""),!this.variables.hasOwnProperty(e))return"";var t=this.variables[e];return typeof t=="function"&&(t=this.variables[e](i,e,s)),t??""},o.prototype.tmStrFormat=function(i,e,s){if(!e.fmt)return i;var t=e.flag||"",r=e.guard;r=new RegExp(r,t.replace(/[^gim]/g,""));var l=typeof e.fmt=="string"?this.tokenizeTmSnippet(e.fmt,"formatString"):e.fmt,a=this,h=i.replace(r,function(){var u=a.variables.__;a.variables.__=[].slice.call(arguments);for(var m=a.resolveVariables(l,s),d="E",b=0;b<m.length;b++){var g=m[b];if(typeof g=="object")if(m[b]="",g.changeCase&&g.local){var w=m[b+1];w&&typeof w=="string"&&(g.changeCase=="u"?m[b]=w[0].toUpperCase():m[b]=w[0].toLowerCase(),m[b+1]=w.substr(1))}else g.changeCase&&(d=g.changeCase);else d=="U"?m[b]=g.toUpperCase():d=="L"&&(m[b]=g.toLowerCase())}return a.variables.__=u,m.join("")});return h},o.prototype.tmFormatFunction=function(i,e,s){return e.formatFunction=="upcase"?i.toUpperCase():e.formatFunction=="downcase"?i.toLowerCase():i},o.prototype.resolveVariables=function(i,e){for(var s=[],t="",r=!0,l=0;l<i.length;l++){var a=i[l];if(typeof a=="string"){s.push(a),a==`
`?(r=!0,t=""):r&&(t=/^\t*/.exec(a)[0],r=/\S/.test(a));continue}if(a){if(r=!1,a.fmtString){var h=i.indexOf(a,l+1);h==-1&&(h=i.length),a.fmt=i.slice(l+1,h),l=h}if(a.text){var u=this.getVariableValue(e,a.text,t)+"";a.fmtString&&(u=this.tmStrFormat(u,a,e)),a.formatFunction&&(u=this.tmFormatFunction(u,a,e)),u&&!a.ifEnd?(s.push(u),m(a)):!u&&a.ifEnd&&m(a.ifEnd)}else a.elseEnd?m(a.elseEnd):(a.tabstopId!=null||a.changeCase!=null)&&s.push(a)}}function m(d){var b=i.indexOf(d,l+1);b!=-1&&(l=b)}return s},o.prototype.getDisplayTextForSnippet=function(i,e){var s=R.call(this,i,e);return s.text},o.prototype.insertSnippetForSelection=function(i,e,s){s===void 0&&(s={});var t=R.call(this,i,e,s),r=i.getSelectionRange(),l=i.session.replace(r,t.text),a=new n(i),h=i.inVirtualSelectionMode&&i.selection.index;a.addTabstops(t.tabstops,r.start,l,h)},o.prototype.insertSnippet=function(i,e,s){s===void 0&&(s={});var t=this;if(i.inVirtualSelectionMode)return t.insertSnippetForSelection(i,e,s);i.forEachSelection(function(){t.insertSnippetForSelection(i,e,s)},null,{keepOrder:!0}),i.tabstopManager&&i.tabstopManager.tabNext()},o.prototype.$getScope=function(i){var e=i.session.$mode.$id||"";if(e=e.split("/").pop(),e==="html"||e==="php"){e==="php"&&!i.session.$mode.inlinePhp&&(e="html");var s=i.getCursorPosition(),t=i.session.getState(s.row);typeof t=="object"&&(t=t[0]),t.substring&&(t.substring(0,3)=="js-"?e="javascript":t.substring(0,4)=="css-"?e="css":t.substring(0,4)=="php-"&&(e="php"))}return e},o.prototype.getActiveScopes=function(i){var e=this.$getScope(i),s=[e],t=this.snippetMap;return t[e]&&t[e].includeScopes&&s.push.apply(s,t[e].includeScopes),s.push("_"),s},o.prototype.expandWithTab=function(i,e){var s=this,t=i.forEachSelection(function(){return s.expandSnippetForSelection(i,e)},null,{keepOrder:!0});return t&&i.tabstopManager&&i.tabstopManager.tabNext(),t},o.prototype.expandSnippetForSelection=function(i,e){var s=i.getCursorPosition(),t=i.session.getLine(s.row),r=t.substring(0,s.column),l=t.substr(s.column),a=this.snippetMap,h;return this.getActiveScopes(i).some(function(u){var m=a[u];return m&&(h=this.findMatchingSnippet(m,r,l)),!!h},this),h?(e&&e.dryRun||(i.session.doc.removeInLine(s.row,s.column-h.replaceBefore.length,s.column+h.replaceAfter.length),this.variables.M__=h.matchBefore,this.variables.T__=h.matchAfter,this.insertSnippetForSelection(i,h.content),this.variables.M__=this.variables.T__=null),!0):!1},o.prototype.findMatchingSnippet=function(i,e,s){for(var t=i.length;t--;){var r=i[t];if(!(r.startRe&&!r.startRe.test(e))&&!(r.endRe&&!r.endRe.test(s))&&!(!r.startRe&&!r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(e):[""],r.matchAfter=r.endRe?r.endRe.exec(s):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(e)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(s)[0]:"",r}},o.prototype.register=function(i,e){var s=this.snippetMap,t=this.snippetNameMap,r=this;i||(i=[]);function l(u){return u&&!/^\^?\(.*\)\$?$|^\\b$/.test(u)&&(u="(?:"+u+")"),u||""}function a(u,m,d){return u=l(u),m=l(m),d?(u=m+u,u&&u[u.length-1]!="$"&&(u=u+"$")):(u=u+m,u&&u[0]!="^"&&(u="^"+u)),new RegExp(u)}function h(u){u.scope||(u.scope=e||"_"),e=u.scope,s[e]||(s[e]=[],t[e]={});var m=t[e];if(u.name){var d=m[u.name];d&&r.unregister(d),m[u.name]=u}s[e].push(u),u.prefix&&(u.tabTrigger=u.prefix),!u.content&&u.body&&(u.content=Array.isArray(u.body)?u.body.join(`
`):u.body),u.tabTrigger&&!u.trigger&&(!u.guard&&/^\w/.test(u.tabTrigger)&&(u.guard="\\b"),u.trigger=S.escapeRegExp(u.tabTrigger)),!(!u.trigger&&!u.guard&&!u.endTrigger&&!u.endGuard)&&(u.startRe=a(u.trigger,u.guard,!0),u.triggerRe=new RegExp(u.trigger),u.endRe=a(u.endTrigger,u.endGuard,!0),u.endTriggerRe=new RegExp(u.endTrigger))}Array.isArray(i)?i.forEach(h):Object.keys(i).forEach(function(u){h(i[u])}),this._signal("registerSnippets",{scope:e})},o.prototype.unregister=function(i,e){var s=this.snippetMap,t=this.snippetNameMap;function r(l){var a=t[l.scope||e];if(a&&a[l.name]){delete a[l.name];var h=s[l.scope||e],u=h&&h.indexOf(l);u>=0&&h.splice(u,1)}}i.content?r(i):Array.isArray(i)&&i.forEach(r)},o.prototype.parseSnippetFile=function(i){i=i.replace(/\r/g,"");for(var e=[],s={},t=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,r;r=t.exec(i);){if(r[1])try{s=JSON.parse(r[1]),e.push(s)}catch{}if(r[4])s.content=r[4].replace(/^\t/gm,""),e.push(s),s={};else{var l=r[2],a=r[3];if(l=="regex"){var h=/\/((?:[^\/\\]|\\.)*)|$/g;s.guard=h.exec(a)[1],s.trigger=h.exec(a)[1],s.endTrigger=h.exec(a)[1],s.endGuard=h.exec(a)[1]}else l=="snippet"?(s.tabTrigger=a.match(/^\S*/)[0],s.name||(s.name=a)):l&&(s[l]=a)}}return e},o.prototype.getSnippetByName=function(i,e){var s=this.snippetNameMap,t;return this.getActiveScopes(e).some(function(r){var l=s[r];return l&&(t=l[i]),!!t},this),t},o}();E.implement(A.prototype,L);var R=function(o,i,e){e===void 0&&(e={});var s=o.getCursorPosition(),t=o.session.getLine(s.row),r=o.session.getTabString(),l=t.match(/^\s*/)[0];s.column<l.length&&(l=l.slice(0,s.column)),i=i.replace(/\r/g,"");var a=this.tokenizeTmSnippet(i);a=this.resolveVariables(a,o),a=a.map(function(_){return _==`
`&&!e.excludeExtraIndent?_+l:typeof _=="string"?_.replace(/\t/g,r):_});var h=[];a.forEach(function(_,D){if(typeof _=="object"){var U=_.tabstopId,N=h[U];if(N||(N=h[U]=[],N.index=U,N.value="",N.parents={}),N.indexOf(_)===-1){_.choices&&!N.choices&&(N.choices=_.choices),N.push(_);var W=a.indexOf(_,D+1);if(W!==-1){var j=a.slice(D+1,W),X=j.some(function(J){return typeof J=="object"});X&&!N.value?N.value=j:j.length&&(!N.value||typeof N.value!="string")&&(N.value=j.join(""))}}}}),h.forEach(function(_){_.length=0});var u={};function m(_){for(var D=[],U=0;U<_.length;U++){var N=_[U];if(typeof N=="object"){if(u[N.tabstopId])continue;var W=_.lastIndexOf(N,U-1);N=D[W]||{tabstopId:N.tabstopId}}D[U]=N}return D}for(var d=0;d<a.length;d++){var b=a[d];if(typeof b=="object"){var g=b.tabstopId,w=h[g],H=a.indexOf(b,d+1);if(u[g]){u[g]===b&&(delete u[g],Object.keys(u).forEach(function(_){w.parents[_]=!0}));continue}u[g]=b;var F=w.value;typeof F!="string"?F=m(F):b.fmt&&(F=this.tmStrFormat(F,b,o)),a.splice.apply(a,[d+1,Math.max(0,H-d)].concat(F,b)),w.indexOf(b)===-1&&w.push(b)}}var z=0,B=0,G="";return a.forEach(function(_){if(typeof _=="string"){var D=_.split(`
`);D.length>1?(B=D[D.length-1].length,z+=D.length-1):B+=_.length,G+=_}else _&&(_.start?_.end={row:z,column:B}:_.start={row:z,column:B})}),{text:G,tabstops:h,tokens:a}},n=function(){function o(i){if(this.index=0,this.ranges=[],this.tabstops=[],i.tabstopManager)return i.tabstopManager;i.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=S.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(i)}return o.prototype.attach=function(i){this.$openTabstops=null,this.selectedTabstop=null,this.editor=i,this.session=i.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},o.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},o.prototype.onChange=function(i){for(var e=i.action[0]=="r",s=this.selectedTabstop||{},t=s.parents||{},r=this.tabstops.slice(),l=0;l<r.length;l++){var a=r[l],h=a==s||t[a.index];if(a.rangeList.$bias=h?0:1,i.action=="remove"&&a!==s){var u=a.parents&&a.parents[s.index],m=a.rangeList.pointIndex(i.start,u);m=m<0?-m-1:m+1;var d=a.rangeList.pointIndex(i.end,u);d=d<0?-d-1:d-1;for(var b=a.rangeList.ranges.slice(m,d),g=0;g<b.length;g++)this.removeRange(b[g])}a.rangeList.$onChange(i)}var w=this.session;!this.$inChange&&e&&w.getLength()==1&&!w.getValue()&&this.detach()},o.prototype.updateLinkedFields=function(){var i=this.selectedTabstop;if(!(!i||!i.hasLinkedRanges||!i.firstNonLinked)){this.$inChange=!0;for(var e=this.session,s=e.getTextRange(i.firstNonLinked),t=0;t<i.length;t++){var r=i[t];if(r.linked){var l=r.original,a=C.snippetManager.tmStrFormat(s,l,this.editor);e.replace(r,a)}}this.$inChange=!1}},o.prototype.onAfterExec=function(i){i.command&&!i.command.readOnly&&this.updateLinkedFields()},o.prototype.onChangeSelection=function(){if(this.editor){for(var i=this.editor.selection.lead,e=this.editor.selection.anchor,s=this.editor.selection.isEmpty(),t=0;t<this.ranges.length;t++)if(!this.ranges[t].linked){var r=this.ranges[t].contains(i.row,i.column),l=s||this.ranges[t].contains(e.row,e.column);if(r&&l)return}this.detach()}},o.prototype.onChangeSession=function(){this.detach()},o.prototype.tabNext=function(i){var e=this.tabstops.length,s=this.index+(i||1);s=Math.min(Math.max(s,1),e),s==e&&(s=0),this.selectTabstop(s),s===0&&this.detach()},o.prototype.selectTabstop=function(i){this.$openTabstops=null;var e=this.tabstops[this.index];if(e&&this.addTabstopMarkers(e),this.index=i,e=this.tabstops[this.index],!(!e||!e.length)){this.selectedTabstop=e;var s=e.firstNonLinked||e;if(e.choices&&(s.cursor=s.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(s);else{var t=this.editor.multiSelect;t.toSingleRange(s);for(var r=0;r<e.length;r++)e.hasLinkedRanges&&e[r].linked||t.addRange(e[r].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},o.prototype.addTabstops=function(i,e,s){var t=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!i[0]){var r=T.fromPoints(s,s);c(r.start,e),c(r.end,e),i[0]=[r],i[0].index=0}var l=this.index,a=[l+1,0],h=this.ranges;i.forEach(function(u,m){for(var d=this.$openTabstops[m]||u,b=0;b<u.length;b++){var g=u[b],w=T.fromPoints(g.start,g.end||g.start);p(w.start,e),p(w.end,e),w.original=g,w.tabstop=d,h.push(w),d!=u?d.unshift(w):d[b]=w,g.fmtString||d.firstNonLinked&&t?(w.linked=!0,d.hasLinkedRanges=!0):d.firstNonLinked||(d.firstNonLinked=w)}d.firstNonLinked||(d.hasLinkedRanges=!1),d===u&&(a.push(d),this.$openTabstops[m]=d),this.addTabstopMarkers(d),d.rangeList=d.rangeList||new x,d.rangeList.$bias=0,d.rangeList.addList(d)},this),a.length>2&&(this.tabstops.length&&a.push(a.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,a))},o.prototype.addTabstopMarkers=function(i){var e=this.session;i.forEach(function(s){s.markerId||(s.markerId=e.addMarker(s,"ace_snippet-marker","text"))})},o.prototype.removeTabstopMarkers=function(i){var e=this.session;i.forEach(function(s){e.removeMarker(s.markerId),s.markerId=null})},o.prototype.removeRange=function(i){var e=i.tabstop.indexOf(i);e!=-1&&i.tabstop.splice(e,1),e=this.ranges.indexOf(i),e!=-1&&this.ranges.splice(e,1),e=i.tabstop.rangeList.ranges.indexOf(i),e!=-1&&i.tabstop.splice(e,1),this.session.removeMarker(i.markerId),i.tabstop.length||(e=this.tabstops.indexOf(i.tabstop),e!=-1&&this.tabstops.splice(e,1),this.tabstops.length||this.detach())},o}();n.prototype.keyboardHandler=new M,n.prototype.keyboardHandler.bindKeys({Tab:function(o){C.snippetManager&&C.snippetManager.expandWithTab(o)||(o.tabstopManager.tabNext(1),o.renderer.scrollCursorIntoView())},"Shift-Tab":function(o){o.tabstopManager.tabNext(-1),o.renderer.scrollCursorIntoView()},Esc:function(o){o.tabstopManager.detach()}});var p=function(o,i){o.row==0&&(o.column+=i.column),o.row+=i.row},c=function(o,i){o.row==i.row&&(o.column-=i.column),o.row-=i.row};$.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),C.snippetManager=new A;var f=v("./editor").Editor;(function(){this.insertSnippet=function(o,i){return C.snippetManager.insertSnippet(this,o,i)},this.expandSnippet=function(o){return C.snippetManager.expandWithTab(this,o)}}).call(f.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config"],function(v,C,I){var $=v("../virtual_renderer").VirtualRenderer,E=v("../editor").Editor,L=v("../range").Range,S=v("../lib/event"),T=v("../lib/lang"),x=v("../lib/dom"),M=v("../config").nls,O=function(y){return"suggest-aria-id:".concat(y)},k=function(y){var A=new $(y);A.$maxLines=4;var R=new E(A);return R.setHighlightActiveLine(!1),R.setShowPrintMargin(!1),R.renderer.setShowGutter(!1),R.renderer.setHighlightGutterLine(!1),R.$mouseHandler.$focusTimeout=0,R.$highlightTagPending=!0,R},P=function(){function y(A){var R=x.createElement("div"),n=new k(R);A&&A.appendChild(R),R.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.renderer.$textLayer.element.setAttribute("role","listbox"),n.renderer.$textLayer.element.setAttribute("aria-label",M("Autocomplete suggestions")),n.renderer.textarea.setAttribute("aria-hidden","true"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var p=function(){};n.focus=p,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=p,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",function(t){var r=t.getDocumentPosition();n.selection.moveToPosition(r),o.start.row=o.end.row=r.row,t.stop()});var c,f=new L(-1,0,-1,1/0),o=new L(-1,0,-1,1/0);o.id=n.session.addMarker(o,"ace_active-line","fullLine"),n.setSelectOnHover=function(t){t?f.id&&(n.session.removeMarker(f.id),f.id=null):f.id=n.session.addMarker(f,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",function(t){if(!c){c=t;return}if(!(c.x==t.x&&c.y==t.y)){c=t,c.scrollTop=n.renderer.scrollTop;var r=c.getDocumentPosition().row;f.start.row!=r&&(f.id||n.setRow(r),e(r))}}),n.renderer.on("beforeRender",function(){if(c&&f.start.row!=-1){c.$pos=null;var t=c.getDocumentPosition().row;f.id||n.setRow(t),e(t,!0)}}),n.renderer.on("afterRender",function(){var t=n.getRow(),r=n.renderer.$textLayer,l=r.element.childNodes[t-r.config.firstRow],a=document.activeElement;if(l!==r.selectedNode&&r.selectedNode&&(x.removeCssClass(r.selectedNode,"ace_selected"),a.removeAttribute("aria-activedescendant"),r.selectedNode.removeAttribute("id")),r.selectedNode=l,l){x.addCssClass(l,"ace_selected");var h=O(t);l.id=h,r.element.setAttribute("aria-activedescendant",h),a.setAttribute("aria-activedescendant",h),l.setAttribute("role","option"),l.setAttribute("aria-label",n.getData(t).value),l.setAttribute("aria-setsize",n.data.length),l.setAttribute("aria-posinset",t+1),l.setAttribute("aria-describedby","doc-tooltip")}});var i=function(){e(-1)},e=function(t,r){t!==f.start.row&&(f.start.row=f.end.row=t,r||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return f.start.row},S.addListener(n.container,"mouseout",i),n.on("hide",i),n.on("changeSelection",i),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(t){var r=n.data[t];return typeof r=="string"?r:r&&r.value||""};var s=n.session.bgTokenizer;return s.$tokenizeRow=function(t){var r=n.data[t],l=[];if(!r)return l;typeof r=="string"&&(r={value:r});var a=r.caption||r.value||r.name;function h(F,z){F&&l.push({type:(r.className||"")+(z||""),value:F})}for(var u=a.toLowerCase(),m=(n.filterText||"").toLowerCase(),d=0,b=0,g=0;g<=m.length;g++)if(g!=b&&(r.matchMask&1<<g||g==m.length)){var w=m.slice(b,g);b=g;var H=u.indexOf(w,d);if(H==-1)continue;h(a.slice(d,H),""),d=H+w.length,h(a.slice(H,d),"completion-highlight")}return h(a.slice(d,a.length),""),l.push({type:"completion-spacer",value:" "}),r.meta&&l.push({type:"completion-meta",value:r.meta}),r.message&&l.push({type:"completion-message",value:r.message}),l},s.$updateOnChange=p,s.start=p,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.autoSelect=!0,n.filterText="",n.data=[],n.setData=function(t,r){n.filterText=r||"",n.setValue(T.stringRepeat(`
`,t.length),-1),n.data=t||[],n.setRow(0)},n.getData=function(t){return n.data[t]},n.getRow=function(){return o.start.row},n.setRow=function(t){t=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,t)),o.start.row!=t&&(n.selection.clearSelection(),o.start.row=o.end.row=t||0,n.session._emit("changeBackMarker"),n.moveCursorTo(t||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()}),n.hide=function(){this.container.style.display="none",n.anchorPos=null,n.anchor=null,n.isOpen&&(n.isOpen=!1,this._signal("hide"))},n.tryShow=function(t,r,l,a){if(!a&&n.isOpen&&n.anchorPos&&n.anchor&&n.anchorPos.top===t.top&&n.anchorPos.left===t.left&&n.anchor===l)return!0;var h=this.container,u=window.innerHeight,m=window.innerWidth,d=this.renderer,b=d.$maxLines*r*1.4,g={top:0,bottom:0,left:0},w=u-t.top-3*this.$borderSize-r,H=t.top-3*this.$borderSize;l||(H<=w||w>=b?l="bottom":l="top"),l==="top"?(g.bottom=t.top-this.$borderSize,g.top=g.bottom-b):l==="bottom"&&(g.top=t.top+r+this.$borderSize,g.bottom=g.top+b);var F=g.top>=0&&g.bottom<=u;if(!a&&!F)return!1;F?d.$maxPixelHeight=null:l==="top"?d.$maxPixelHeight=H:d.$maxPixelHeight=w,l==="top"?(h.style.top="",h.style.bottom=u-g.bottom+"px",n.isTopdown=!1):(h.style.top=g.top+"px",h.style.bottom="",n.isTopdown=!0),h.style.display="";var z=t.left;return z+h.offsetWidth>m&&(z=m-h.offsetWidth),h.style.left=z+"px",h.style.right="",n.isOpen||(n.isOpen=!0,this._signal("show"),c=null),n.anchorPos=t,n.anchor=l,!0},n.show=function(t,r,l){this.tryShow(t,r,l?"bottom":void 0,!0)},n.goTo=function(t){var r=this.getRow(),l=this.session.getLength()-1;switch(t){case"up":r=r<=0?l:r-1;break;case"down":r=r>=l?-1:r+1;break;case"start":r=0;break;case"end":r=l;break}this.setRow(r)},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n}return y}();x.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
`,"autocompletion.css",!1),C.AcePopup=P,C.$singleLineEditor=k,C.getAriaId=O}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets"],function(v,C,I){var $=v("../snippets").snippetManager,E=function(){function L(){this.editor=null}return L.prototype.show=function(S,T,x){if(x=x||"",S&&this.editor&&this.editor!==S&&(this.hide(),this.editor=null),!S||!T)return!1;var M=T.snippet?$.getDisplayTextForSnippet(S,T.snippet):T.value;return!M||!M.startsWith(x)?!1:(this.editor=S,M=M.slice(x.length),M===""?S.removeGhostText():S.setGhostText(M),!0)},L.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},L.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},L.prototype.destroy=function(){this.hide(),this.editor=null},L}();C.AceInline=E}),ace.define("ace/autocomplete/util",["require","exports","module"],function(v,C,I){C.parForEach=function(E,L,S){var T=0,x=E.length;x===0&&S();for(var M=0;M<x;M++)L(E[M],function(O,k){T++,T===x&&S(O,k)})};var $=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;C.retrievePrecedingIdentifier=function(E,L,S){S=S||$;for(var T=[],x=L-1;x>=0&&S.test(E[x]);x--)T.push(E[x]);return T.reverse().join("")},C.retrieveFollowingIdentifier=function(E,L,S){S=S||$;for(var T=[],x=L;x<E.length&&S.test(E[x]);x++)T.push(E[x]);return T},C.getCompletionPrefix=function(E){var L=E.getCursorPosition(),S=E.session.getLine(L.row),T;return E.completers.forEach((function(x){x.identifierRegexps&&x.identifierRegexps.forEach((function(M){!T&&M&&(T=this.retrievePrecedingIdentifier(S,L.column,M))}).bind(this))}).bind(this)),T||this.retrievePrecedingIdentifier(S,L.column)},C.triggerAutocomplete=function(E){var L=E.getCursorPosition(),S=E.session.getLine(L.row),T=L.column===0?0:L.column-1,x=S[T];return E.completers.some(function(M){if(M.triggerCharacters&&Array.isArray(M.triggerCharacters))return M.triggerCharacters.includes(x)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(v,C,I){var $=v("./keyboard/hash_handler").HashHandler,E=v("./autocomplete/popup").AcePopup,L=v("./autocomplete/inline").AceInline,S=v("./autocomplete/popup").getAriaId,T=v("./autocomplete/util"),x=v("./lib/lang"),M=v("./lib/dom"),O=v("./snippets").snippetManager,k=v("./config"),P=function(n,p){p.completer&&p.completer.destroy()},y=function(){function n(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new $,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=x.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=x.delayedCall(this.updateDocTooltip.bind(this),50)}return n.prototype.$init=function(){return this.popup=new E(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(p){this.insertMatch(),p.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupChange.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},n.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new L,this.inlineRenderer},n.prototype.getPopup=function(){return this.popup||this.$init()},n.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip()},n.prototype.$onPopupChange=function(p){if(this.inlineRenderer&&this.inlineEnabled){var c=p?null:this.popup.getData(this.popup.getRow()),f=T.getCompletionPrefix(this.editor);this.inlineRenderer.show(this.editor,c,f)||this.inlineRenderer.hide(),this.$updatePopupPosition()}this.tooltipTimer.call(null,null)},n.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var p=this.editor.container.parentNode,c=[];p;)c.push(p),p.addEventListener("scroll",this.onLayoutChange,{passive:!0}),p=p.parentNode;this.$elements=c}},n.prototype.unObserveLayoutChanges=function(){var p=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(c){c.removeEventListener("scroll",p.onLayoutChange,{passive:!0})}),this.$elements=null},n.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},n.prototype.$updatePopupPosition=function(){var p=this.editor,c=p.renderer,f=c.layerConfig.lineHeight,o=c.$cursorLayer.getPixelPosition(this.base,!0);o.left-=this.popup.getTextLeftOffset();var i=p.container.getBoundingClientRect();o.top+=i.top-c.layerConfig.offset,o.left+=i.left-p.renderer.scrollLeft,o.left+=c.gutterWidth;var e={top:o.top,left:o.left};c.$ghostText&&c.$ghostTextWidget&&this.base.row===c.$ghostText.position.row&&(e.top+=c.$ghostTextWidget.el.offsetHeight),!this.popup.tryShow(e,f,"bottom")&&(this.popup.tryShow(o,f,"top")||this.popup.show(o,f))},n.prototype.openPopup=function(p,c,f){this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:S(this.popup.getRow()),inline:this.inlineEnabled}),p.keyBinding.addKeyboardHandler(this.keyboardHandler),this.popup.setRow(this.autoSelect?0:-1),f?f&&!c&&this.detach():(this.popup.setTheme(p.getTheme()),this.popup.setFontSize(p.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},n.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},n.prototype.changeListener=function(p){var c=this.editor.selection.lead;(c.row!=this.base.row||c.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},n.prototype.blurListener=function(p){var c=document.activeElement,f=this.editor.textInput.getElement(),o=p.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(p.relatedTarget),i=this.popup&&this.popup.container;c!=f&&c.parentNode!=i&&!o&&c!=this.tooltipNode&&p.relatedTarget!=f&&this.detach()},n.prototype.mousedownListener=function(p){this.detach()},n.prototype.mousewheelListener=function(p){this.detach()},n.prototype.goTo=function(p){this.popup.goTo(p)},n.prototype.insertMatch=function(p,c){if(p||(p=this.popup.getData(this.popup.getRow())),!p)return!1;if(p.value==="")return this.detach();var f=this.completions,o=this.getCompletionProvider().insertMatch(this.editor,p,f.filterText,c);return this.completions==f&&this.detach(),o},n.prototype.showPopup=function(p,c){this.editor&&this.detach(),this.activated=!0,this.editor=p,p.completer!=this&&(p.completer&&p.completer.detach(),p.completer=this),p.on("changeSelection",this.changeListener),p.on("blur",this.blurListener),p.on("mousedown",this.mousedownListener),p.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,c)},n.prototype.getCompletionProvider=function(p){return this.completionProvider||(this.completionProvider=new A(p)),this.completionProvider},n.prototype.gatherCompletions=function(p,c){return this.getCompletionProvider().gatherCompletions(p,c)},n.prototype.updateCompletions=function(p,c){if(p&&this.base&&this.completions){var o=this.editor.getCursorPosition(),i=this.editor.session.getTextRange({start:this.base,end:o});if(i==this.completions.filterText)return;if(this.completions.setFilter(i),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==i&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,i,p);return}if(c&&c.matches){var o=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(o.row,o.column),this.base.$insertRight=!0,this.completions=new R(c.matches),this.openPopup(this.editor,"",p)}var f=this.editor.getSession(),o=this.editor.getCursorPosition(),i=T.getCompletionPrefix(this.editor);this.base=f.doc.createAnchor(o.row,o.column-i.length),this.base.$insertRight=!0;var e={exactMatch:this.exactMatch};this.getCompletionProvider({prefix:i,pos:o}).provideCompletions(this.editor,e,(function(s,t,r){var l=t.filtered,a=T.getCompletionPrefix(this.editor);if(r){if(!l.length){var h=!this.autoShown&&this.emptyMessage;if(typeof h=="function"&&(h=this.emptyMessage(a)),h){var u=[{caption:this.emptyMessage(a),value:""}];this.completions=new R(u),this.openPopup(this.editor,a,p);return}return this.detach()}if(l.length==1&&l[0].value==a&&!l[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&l.length==1)return this.insertMatch(l[0])}this.completions=t,this.openPopup(this.editor,a,p)}).bind(this))},n.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},n.prototype.updateDocTooltip=function(){var p=this.popup,c=p.data,f=c&&(c[p.getHoveredRow()]||c[p.getRow()]),o=null;if(!f||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var i=this.editor.completers.length,e=0;e<i;e++){var s=this.editor.completers[e];if(s.getDocTooltip&&f.completerId===s.id){o=s.getDocTooltip(f);break}}if(!o&&typeof f!="string"&&(o=f),typeof o=="string"&&(o={docText:o}),!o||!(o.docHTML||o.docText))return this.hideDocTooltip();this.showDocTooltip(o)},n.prototype.showDocTooltip=function(p){this.tooltipNode||(this.tooltipNode=M.createElement("div"),this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"));var c=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(c.isDark?"ace_dark ":"")+(c.cssClass||"");var f=this.tooltipNode;p.docHTML?f.innerHTML=p.docHTML:p.docText&&(f.textContent=p.docText),f.parentNode||this.popup.container.appendChild(this.tooltipNode);var o=this.popup,i=o.container.getBoundingClientRect();f.style.top=o.container.style.top,f.style.bottom=o.container.style.bottom,f.style.display="block",window.innerWidth-i.right<320?i.left<320?o.isTopdown?(f.style.top=i.bottom+"px",f.style.left=i.left+"px",f.style.right="",f.style.bottom=""):(f.style.top=o.container.offsetTop-f.offsetHeight+"px",f.style.left=i.left+"px",f.style.right="",f.style.bottom=""):(f.style.right=window.innerWidth-i.left+"px",f.style.left=""):(f.style.left=i.right+1+"px",f.style.right="")},n.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var p=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==p&&this.editor.focus(),this.tooltipNode=null,p.parentNode&&p.parentNode.removeChild(p)}},n.prototype.onTooltipClick=function(p){for(var c=p.target;c&&c!=this.tooltipNode;){if(c.nodeName=="A"&&c.href){c.rel="noreferrer",c.target="_blank";break}c=c.parentNode}},n.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var p=this.popup.container;p&&p.parentNode&&p.parentNode.removeChild(p)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",P),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},n}();y.prototype.commands={Up:function(n){n.completer.goTo("up")},Down:function(n){n.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(n){n.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(n){n.completer.goTo("end")},Esc:function(n){n.completer.detach()},Return:function(n){return n.completer.insertMatch()},"Shift-Return":function(n){n.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(n){var p=n.completer.insertMatch();if(!p&&!n.tabstopManager)n.completer.goTo("down");else return p},PageUp:function(n){n.completer.popup.gotoPageUp()},PageDown:function(n){n.completer.popup.gotoPageDown()}},y.for=function(n){return n.completer instanceof y||(n.completer&&(n.completer.destroy(),n.completer=null),k.get("sharedPopups")?(y.$sharedInstance||(y.$sharedInstance=new y),n.completer=y.$sharedInstance):(n.completer=new y,n.once("destroy",P))),n.completer},y.startCommand={name:"startAutocomplete",exec:function(n,p){var c=y.for(n);c.autoInsert=!1,c.autoSelect=!0,c.autoShown=!1,c.showPopup(n,p),c.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var A=function(){function n(p){this.initialPosition=p,this.active=!0}return n.prototype.insertByIndex=function(p,c,f){return!this.completions||!this.completions.filtered?!1:this.insertMatch(p,this.completions.filtered[c],f)},n.prototype.insertMatch=function(p,c,f){if(!c)return!1;if(p.startOperation({command:{name:"insertMatch"}}),c.completer&&c.completer.insertMatch)c.completer.insertMatch(p,c);else{if(!this.completions)return!1;var o=this.completions.filterText.length,i=0;if(c.range&&c.range.start.row===c.range.end.row&&(o-=this.initialPosition.prefix.length,o+=this.initialPosition.pos.column-c.range.start.column,i+=c.range.end.column-this.initialPosition.pos.column),o||i){var e;p.selection.getAllRanges?e=p.selection.getAllRanges():e=[p.getSelectionRange()];for(var s=0,t;t=e[s];s++)t.start.column-=o,t.end.column+=i,p.session.remove(t)}c.snippet?O.insertSnippet(p,c.snippet):this.$insertString(p,c),c.command&&c.command==="startAutocomplete"&&p.execCommand(c.command)}return p.endOperation(),!0},n.prototype.$insertString=function(p,c){var f=c.value||c;p.execCommand("insertstring",f)},n.prototype.gatherCompletions=function(p,c){var f=p.getSession(),o=p.getCursorPosition(),i=T.getCompletionPrefix(p),e=[];this.completers=p.completers;var s=p.completers.length;return p.completers.forEach(function(t,r){t.getCompletions(p,f,o,i,function(l,a){!l&&a&&(e=e.concat(a)),c(null,{prefix:T.getCompletionPrefix(p),matches:e,finished:--s===0})})}),!0},n.prototype.provideCompletions=function(p,c,f){var o=(function(t){var r=t.prefix,l=t.matches;this.completions=new R(l),c.exactMatch&&(this.completions.exactMatch=!0),c.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(r),(t.finished||this.completions.filtered.length)&&f(null,this.completions,t.finished)}).bind(this),i=!0,e=null;if(this.gatherCompletions(p,(function(t,r){if(this.active){t&&(f(t,[],!0),this.detach());var l=r.prefix;if(l.indexOf(r.prefix)===0){if(i){e=r;return}o(r)}}}).bind(this)),i=!1,e){var s=e;e=null,o(s)}},n.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(p){typeof p.cancel=="function"&&p.cancel()})},n}(),R=function(){function n(p,c){this.all=p,this.filtered=p,this.filterText=c||"",this.exactMatch=!1,this.ignoreCaption=!1}return n.prototype.setFilter=function(p){if(p.length>this.filterText&&p.lastIndexOf(this.filterText,0)===0)var c=this.filtered;else var c=this.all;this.filterText=p,c=this.filterCompletions(c,this.filterText),c=c.sort(function(o,i){return i.exactMatch-o.exactMatch||i.$score-o.$score||(o.caption||o.value).localeCompare(i.caption||i.value)});var f=null;c=c.filter(function(o){var i=o.snippet||o.caption||o.value;return i===f?!1:(f=i,!0)}),this.filtered=c},n.prototype.filterCompletions=function(p,c){var f=[],o=c.toUpperCase(),i=c.toLowerCase();e:for(var e=0,s;s=p[e];e++){var t=!this.ignoreCaption&&s.caption||s.value||s.snippet;if(t){var r=-1,l=0,a=0,h,u;if(this.exactMatch){if(c!==t.substr(0,c.length))continue e}else{var m=t.toLowerCase().indexOf(i);if(m>-1)a=m;else for(var d=0;d<c.length;d++){var b=t.indexOf(i[d],r+1),g=t.indexOf(o[d],r+1);if(h=b>=0&&(g<0||b<g)?b:g,h<0)continue e;u=h-r-1,u>0&&(r===-1&&(a+=10),a+=u,l=l|1<<d),r=h}}s.matchMask=l,s.exactMatch=a?0:1,s.$score=(s.score||0)-a,f.push(s)}}return f},n}();C.Autocomplete=y,C.CompletionProvider=A,C.FilteredList=R}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(v,C,I){var $=v("../range").Range,E=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function L(T,x){var M=T.getTextRange($.fromPoints({row:0,column:0},x));return M.split(E).length-1}function S(T,x){var M=L(T,x),O=T.getValue().split(E),k=Object.create(null),P=O[M];return O.forEach(function(y,A){if(!(!y||y===P)){var R=Math.abs(M-A),n=O.length-R;k[y]?k[y]=Math.max(n,k[y]):k[y]=n}}),k}C.getCompletions=function(T,x,M,O,k){var P=S(x,M),y=Object.keys(P);k(null,y.map(function(A){return{caption:A,value:A,score:P[A],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(v,C,I){var $=v("../snippets").snippetManager,E=v("../autocomplete").Autocomplete,L=v("../config"),S=v("../lib/lang"),T=v("../autocomplete/util"),x=v("../autocomplete/text_completer"),M={getCompletions:function(e,s,t,r,l){if(s.$mode.completer)return s.$mode.completer.getCompletions(e,s,t,r,l);var a=e.session.getState(t.row),h=s.$mode.getCompletions(a,s,t,r);h=h.map(function(u){return u.completerId=M.id,u}),l(null,h)},id:"keywordCompleter"},O=function(e){var s={};return e.replace(/\${(\d+)(:(.*?))?}/g,function(t,r,l,a){return s[r]=a||""}).replace(/\$(\d+?)/g,function(t,r){return s[r]})},k={getCompletions:function(e,s,t,r,l){var a=[],h=s.getTokenAt(t.row,t.column);h&&h.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?a.push("html-tag"):a=$.getActiveScopes(e);var u=$.snippetMap,m=[];a.forEach(function(d){for(var b=u[d]||[],g=b.length;g--;){var w=b[g],H=w.name||w.tabTrigger;H&&m.push({caption:H,snippet:w.content,meta:w.tabTrigger&&!w.name?w.tabTrigger+"⇥ ":"snippet",completerId:k.id})}},this),l(null,m)},getDocTooltip:function(e){e.snippet&&!e.docHTML&&(e.docHTML=["<b>",S.escapeHTML(e.caption),"</b>","<hr></hr>",S.escapeHTML(O(e.snippet))].join(""))},id:"snippetCompleter"},P=[k,x,M];C.setCompleters=function(e){P.length=0,e&&P.push.apply(P,e)},C.addCompleter=function(e){P.push(e)},C.textCompleter=x,C.keyWordCompleter=M,C.snippetCompleter=k;var y={name:"expandSnippet",exec:function(e){return $.expandWithTab(e)},bindKey:"Tab"},A=function(e,s){R(s.session.$mode)},R=function(e){typeof e=="string"&&(e=L.$modes[e]),e&&($.files||($.files={}),n(e.$id,e.snippetFileId),e.modes&&e.modes.forEach(R))},n=function(e,s){!s||!e||$.files[e]||($.files[e]={},L.loadModule(s,function(t){t&&($.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=$.parseSnippetFile(t.snippetText)),$.register(t.snippets||[],t.scope),t.includeScopes&&($.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(r){R("ace/mode/"+r)})))}))},p=function(e){var s=e.editor,t=s.completer&&s.completer.activated;if(e.command.name==="backspace")t&&!T.getCompletionPrefix(s)&&s.completer.detach();else if(e.command.name==="insertstring"&&!t){c=e;var r=e.editor.$liveAutocompletionDelay;r?f.delay(r):o(e)}},c,f=S.delayedCall(function(){o(c)},0),o=function(e){var s=e.editor,t=T.getCompletionPrefix(s),r=T.triggerAutocomplete(s);if((t||r)&&t.length>=s.$liveAutocompletionThreshold){var l=E.for(s);l.autoShown=!0,l.showPopup(s)}},i=v("../editor").Editor;v("../config").defineOptions(i.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:P),this.commands.addCommand(E.startCommand)):this.commands.removeCommand(E.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:P),this.commands.on("afterExec",p)):this.commands.off("afterExec",p)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(e){e?(this.commands.addCommand(y),this.on("changeMode",A),A(null,this)):(this.commands.removeCommand(y),this.off("changeMode",A))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(v){V&&(V.exports=v)})}()})(Y);var Z=Y.exports;const ee=Q(Z),ie=q({__proto__:null,default:ee},[Z]);export{ie as e};
//# sourceMappingURL=ext-language_tools-f1fa3334.js.map
